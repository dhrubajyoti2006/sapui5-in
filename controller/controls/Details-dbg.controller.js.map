{"version":3,"file":"Details-dbg.controller.js","names":["BaseController","_interopRequireDefault","__BaseController","Master","extend","onInit","_onInit","getView","addStyleClass","getOwnerComponent","getContentDensityClass","oRouter","UIComponent","getRouterFor","getRoute","attachPatternMatched","_onControlsMatched","bind","_onControlsDetailsMatched","bus","sap","ui","getCore","getEventBus","subscribe","_onControlSelection","setModel","JSONModel","channel","eventId","args","getModel","setProperty","selectedControl","oEvent","getParameter","console","log","id","oControl","createControlInstance","replaceAll","byId","removeAllItems","addItem","_createControlInstance","sModulePath","Promise","resolve","reject","require","ControlClass","oInstance","error","Error","message"],"sources":["Details.controller.ts"],"sourcesContent":["import UIComponent from \"sap/ui/core/UIComponent\";\nimport BaseController from \"./../BaseController\";\nimport {Route$PatternMatchedEvent} from \"sap/ui/core/routing/Route\";\nimport JSONModel from \"sap/ui/model/json/JSONModel\";\nimport VBox from \"sap/m/VBox\";\nimport Control from \"sap/ui/core/Control\";\n\n/**\n * @namespace sapui5in.ui.controller\n */\nexport default class Master extends BaseController {\n\n\tpublic onInit(): void {\n\t\t// apply content density mode to root view\n\t\tthis.getView().addStyleClass(this.getOwnerComponent().getContentDensityClass());\n\n\t\tconst oRouter = UIComponent.getRouterFor(this);\n\t\toRouter.getRoute(\"controls\").attachPatternMatched(this._onControlsMatched.bind(this));\n\t\toRouter.getRoute(\"controlsDetails\").attachPatternMatched(this._onControlsDetailsMatched.bind(this));\n\n\t\tconst bus = sap.ui.getCore().getEventBus();\n\t\tbus.subscribe(\"controlsChannel\", \"onControlSelection\", this._onControlSelection.bind(this), this);\n\n\t\tthis.setModel(new JSONModel(), \"data\");\n\t}\n\n\tpublic _onControlSelection(channel, eventId, args): void {\n\t\t(this.getModel(\"data\") as JSONModel).setProperty(\"/selectedItem\", args.selectedControl);\n\t}\n\n\tpublic async _onControlsDetailsMatched(oEvent: Route$PatternMatchedEvent) {\n\t\tconst args = oEvent.getParameter(\"arguments\");\n\n\t\tconsole.log(args.id);\n\n\t\tconst oControl = (await this.createControlInstance(args.id.replaceAll(\".\", \"/\"))) as Control;\n\n\t\t(this.byId(\"idContent\") as VBox).removeAllItems();\n\t\t(this.byId(\"idContent\") as VBox).addItem(oControl);\n\t}\n\n\tpublic _onControlsMatched(): void {\n\t\t(this.getModel(\"data\") as JSONModel).setProperty(\"/selectedItem\", {});\n\t}\n\n\tpublic createControlInstance<T>(sModulePath: string): Promise<T> {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tsap.ui.require([sModulePath], (ControlClass: { new(): T }) => {\n\t\t\t\tif (ControlClass) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tconst oInstance = new ControlClass();\n\t\t\t\t\t\tresolve(oInstance);\n\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\treject(new Error(`Failed to create an instance of ${sModulePath}: ${(error as Error).message}`));\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\treject(new Error(`Module ${sModulePath} could not be loaded.`));\n\t\t\t\t}\n\t\t\t}, (error: Error) => {\n\t\t\t\treject(new Error(`Error requiring module ${sModulePath}: ${error.message}`));\n\t\t\t});\n\t\t});\n\t}\n\n}\n"],"mappings":";;;;;;;;QACOA,cAAc,GAAAC,sBAAA,CAAAC,gBAAA;EAMrB;AACA;AACA;EAFA,MAGqBC,MAAM,GAASH,cAAc,CAAAI,MAAA;IAE1CC,MAAM,WAAAC,QAAA,EAAS;MACrB;MACA,IAAI,CAACC,OAAO,CAAC,CAAC,CAACC,aAAa,CAAC,IAAI,CAACC,iBAAiB,CAAC,CAAC,CAACC,sBAAsB,CAAC,CAAC,CAAC;MAE/E,MAAMC,OAAO,GAAGC,WAAW,CAACC,YAAY,CAAC,IAAI,CAAC;MAC9CF,OAAO,CAACG,QAAQ,CAAC,UAAU,CAAC,CAACC,oBAAoB,CAAC,IAAI,CAACC,kBAAkB,CAACC,IAAI,CAAC,IAAI,CAAC,CAAC;MACrFN,OAAO,CAACG,QAAQ,CAAC,iBAAiB,CAAC,CAACC,oBAAoB,CAAC,IAAI,CAACG,yBAAyB,CAACD,IAAI,CAAC,IAAI,CAAC,CAAC;MAEnG,MAAME,GAAG,GAAGC,GAAG,CAACC,EAAE,CAACC,OAAO,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC;MAC1CJ,GAAG,CAACK,SAAS,CAAC,iBAAiB,EAAE,oBAAoB,EAAE,IAAI,CAACC,mBAAmB,CAACR,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC;MAEjG,IAAI,CAACS,QAAQ,CAAC,IAAIC,SAAS,CAAC,CAAC,EAAE,MAAM,CAAC;IACvC,CAAC;IAEMF,mBAAmB,WAAAA,oBAACG,OAAO,EAAEC,OAAO,EAAEC,IAAI,EAAQ;MACvD,IAAI,CAACC,QAAQ,CAAC,MAAM,CAAC,CAAeC,WAAW,CAAC,eAAe,EAAEF,IAAI,CAACG,eAAe,CAAC;IACxF,CAAC;IAEYf,yBAAyB,iBAAAA,0BAACgB,MAAiC,EAAE;MACzE,MAAMJ,IAAI,GAAGI,MAAM,CAACC,YAAY,CAAC,WAAW,CAAC;MAE7CC,OAAO,CAACC,GAAG,CAACP,IAAI,CAACQ,EAAE,CAAC;MAEpB,MAAMC,QAAQ,GAAI,MAAM,IAAI,CAACC,qBAAqB,CAACV,IAAI,CAACQ,EAAE,CAACG,UAAU,CAAC,GAAG,EAAE,GAAG,CAAC,CAAa;MAE3F,IAAI,CAACC,IAAI,CAAC,WAAW,CAAC,CAAUC,cAAc,CAAC,CAAC;MAChD,IAAI,CAACD,IAAI,CAAC,WAAW,CAAC,CAAUE,OAAO,CAACL,QAAQ,CAAC;IACnD,CAAC;IAEMvB,kBAAkB,WAAAA,mBAAA,EAAS;MAChC,IAAI,CAACe,QAAQ,CAAC,MAAM,CAAC,CAAeC,WAAW,CAAC,eAAe,EAAE,CAAC,CAAC,CAAC;IACtE,CAAC;IAEMQ,qBAAqB,WAAAK,uBAAIC,WAAmB,EAAc;MAChE,OAAO,IAAIC,OAAO,CAAC,CAACC,OAAO,EAAEC,MAAM,KAAK;QACvC7B,GAAG,CAACC,EAAE,CAAC6B,OAAO,CAAC,CAACJ,WAAW,CAAC,EAAGK,YAA0B,IAAK;UAC7D,IAAIA,YAAY,EAAE;YACjB,IAAI;cACH,MAAMC,SAAS,GAAG,IAAID,YAAY,CAAC,CAAC;cACpCH,OAAO,CAACI,SAAS,CAAC;YACnB,CAAC,CAAC,OAAOC,KAAK,EAAE;cACfJ,MAAM,CAAC,IAAIK,KAAK,CAAC,mCAAmCR,WAAW,KAAMO,KAAK,CAAWE,OAAO,EAAE,CAAC,CAAC;YACjG;UACD,CAAC,MAAM;YACNN,MAAM,CAAC,IAAIK,KAAK,CAAC,UAAUR,WAAW,uBAAuB,CAAC,CAAC;UAChE;QACD,CAAC,EAAGO,KAAY,IAAK;UACpBJ,MAAM,CAAC,IAAIK,KAAK,CAAC,0BAA0BR,WAAW,KAAKO,KAAK,CAACE,OAAO,EAAE,CAAC,CAAC;QAC7E,CAAC,CAAC;MACH,CAAC,CAAC;IACH;EAAC;EAAA,OApDmBpD,MAAM;AAAA","ignoreList":[]}