{"version":3,"file":"Details.controller.js","names":["BaseController","_interopRequireDefault","__BaseController","Master","extend","onInit","_onInit","this","getView","addStyleClass","getOwnerComponent","getContentDensityClass","oRouter","UIComponent","getRouterFor","getRoute","attachPatternMatched","_onControlsMatched","bind","_onControlsDetailsMatched","bus","sap","ui","getCore","getEventBus","subscribe","_onControlSelection","setModel","JSONModel","channel","eventId","args","getModel","setProperty","selectedControl","async","oEvent","getParameter","console","log","id","oControl","createControlInstance","replaceAll","byId","removeAllItems","addItem","_createControlInstance","sModulePath","Promise","resolve","reject","require","ControlClass","oInstance","error","Error","message"],"sources":["Details.controller.ts"],"sourcesContent":["import UIComponent from \"sap/ui/core/UIComponent\";\nimport BaseController from \"./../BaseController\";\nimport {Route$PatternMatchedEvent} from \"sap/ui/core/routing/Route\";\nimport JSONModel from \"sap/ui/model/json/JSONModel\";\nimport VBox from \"sap/m/VBox\";\nimport Control from \"sap/ui/core/Control\";\n\n/**\n * @namespace sapui5in.ui.controller\n */\nexport default class Master extends BaseController {\n\n\tpublic onInit(): void {\n\t\t// apply content density mode to root view\n\t\tthis.getView().addStyleClass(this.getOwnerComponent().getContentDensityClass());\n\n\t\tconst oRouter = UIComponent.getRouterFor(this);\n\t\toRouter.getRoute(\"controls\").attachPatternMatched(this._onControlsMatched.bind(this));\n\t\toRouter.getRoute(\"controlsDetails\").attachPatternMatched(this._onControlsDetailsMatched.bind(this));\n\n\t\tconst bus = sap.ui.getCore().getEventBus();\n\t\tbus.subscribe(\"controlsChannel\", \"onControlSelection\", this._onControlSelection.bind(this), this);\n\n\t\tthis.setModel(new JSONModel(), \"data\");\n\t}\n\n\tpublic _onControlSelection(channel, eventId, args): void {\n\t\t(this.getModel(\"data\") as JSONModel).setProperty(\"/selectedItem\", args.selectedControl);\n\t}\n\n\tpublic async _onControlsDetailsMatched(oEvent: Route$PatternMatchedEvent) {\n\t\tconst args = oEvent.getParameter(\"arguments\");\n\n\t\tconsole.log(args.id);\n\n\t\tconst oControl = (await this.createControlInstance(args.id.replaceAll(\".\", \"/\"))) as Control;\n\n\t\t(this.byId(\"idContent\") as VBox).removeAllItems();\n\t\t(this.byId(\"idContent\") as VBox).addItem(oControl);\n\t}\n\n\tpublic _onControlsMatched(): void {\n\t\t(this.getModel(\"data\") as JSONModel).setProperty(\"/selectedItem\", {});\n\t}\n\n\tpublic createControlInstance<T>(sModulePath: string): Promise<T> {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tsap.ui.require([sModulePath], (ControlClass: { new(): T }) => {\n\t\t\t\tif (ControlClass) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tconst oInstance = new ControlClass();\n\t\t\t\t\t\tresolve(oInstance);\n\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\treject(new Error(`Failed to create an instance of ${sModulePath}: ${(error as Error).message}`));\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\treject(new Error(`Module ${sModulePath} could not be loaded.`));\n\t\t\t\t}\n\t\t\t}, (error: Error) => {\n\t\t\t\treject(new Error(`Error requiring module ${sModulePath}: ${error.message}`));\n\t\t\t});\n\t\t});\n\t}\n\n}\n"],"mappings":"+NACOA,EAAcC,EAAAC,GAMrB,MAGqBC,EAAeH,EAAcI,OAAA,iCAE1CC,OAAM,SAAAC,IAEZC,KAAKC,UAAUC,cAAcF,KAAKG,oBAAoBC,0BAEtD,MAAMC,EAAUC,EAAYC,aAAaP,MACzCK,EAAQG,SAAS,YAAYC,qBAAqBT,KAAKU,mBAAmBC,KAAKX,OAC/EK,EAAQG,SAAS,mBAAmBC,qBAAqBT,KAAKY,0BAA0BD,KAAKX,OAE7F,MAAMa,EAAMC,IAAIC,GAAGC,UAAUC,cAC7BJ,EAAIK,UAAU,kBAAmB,qBAAsBlB,KAAKmB,oBAAoBR,KAAKX,MAAOA,MAE5FA,KAAKoB,SAAS,IAAIC,EAAa,OAChC,EAEOF,oBAAmB,SAAAA,EAACG,EAASC,EAASC,GAC3CxB,KAAKyB,SAAS,QAAsBC,YAAY,gBAAiBF,EAAKG,gBACxE,EAEaf,0BAAyBgB,eAAAhB,EAACiB,GACtC,MAAML,EAAOK,EAAOC,aAAa,aAEjCC,QAAQC,IAAIR,EAAKS,IAEjB,MAAMC,QAAkBlC,KAAKmC,sBAAsBX,EAAKS,GAAGG,WAAW,IAAK,MAE1EpC,KAAKqC,KAAK,aAAsBC,iBAChCtC,KAAKqC,KAAK,aAAsBE,QAAQL,EAC1C,EAEOxB,mBAAkB,SAAAA,IACvBV,KAAKyB,SAAS,QAAsBC,YAAY,gBAAiB,CAAC,EACpE,EAEOS,sBAAqB,SAAAK,EAAIC,GAC/B,OAAO,IAAIC,QAAQ,CAACC,EAASC,KAC5B9B,IAAIC,GAAG8B,QAAQ,CAACJ,GAAeK,IAC9B,GAAIA,EAAc,CACjB,IACC,MAAMC,EAAY,IAAID,EACtBH,EAAQI,EACT,CAAE,MAAOC,GACRJ,EAAO,IAAIK,MAAM,mCAAmCR,MAAiBO,EAAgBE,WACtF,CACD,KAAO,CACNN,EAAO,IAAIK,MAAM,UAAUR,0BAC5B,GACGO,IACHJ,EAAO,IAAIK,MAAM,0BAA0BR,MAAgBO,EAAME,WAAW,EAC3E,EAEJ,IAAC,OApDmBtD,CAAM","ignoreList":[]}